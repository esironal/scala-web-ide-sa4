<html xmlns="http://www.w3.org/1999/xhtml" xmlns:lift="http://liftweb.net/">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
	<title class="lift:Menu.title">COLLABORATIVE IDE</title>
	

    <link rel="stylesheet" type="text/css" href="/css/codemirror.css"/>
	<link rel="stylesheet" type="text/css" href="/css/modaldbox.css"/>
    <link href="/css/style.css" rel="stylesheet" type="text/css" />
	
	<!-- <link rel="stylesheet" type="text/css" href="mode/clike/clike.css"/> -->
	<style type="text/css"> 
	.CodeMirror {border-top: 1px solid black; border-bottom: 1px solid black;}
	.activeline {background: #f0fcff !important;}
	</style>
	<!-- /CSS -->
	
	<!-- SCRIPTS -->
	<!--projectHTML(myId: Long)-->
		<script type="text/javascript" src="/lib/tree/_lib/jquery.js"></script>
	<script type="text/javascript" src="/lib/tree/_lib/jquery.cookie.js"></script>
	<script type="text/javascript" src="/lib/tree/_lib/jquery.hotkeys.js"></script>
	<script type="text/javascript" src="/lib/tree/jquery.jstree.js"></script>
	<link type="text/css" rel="stylesheet" href="/lib/tree/_docs/syntax/!style.css"/>
	<link type="text/css" rel="stylesheet" href="/lib/tree/_docs/!style.css"/>
	<script type="text/javascript" src="/lib/tree/_docs/syntax/!script.js"></script>
  	<script src="/lib/tree/treeJS.js"></script>
	
    <!-- <script id="json" type="text/javascript" src="/classpath/json.js"></script> -->
	<script type="text/javascript" src="http://usiedit.appspot.com/static/lib/codemirror.js"></script>	
	<script type="text/javascript" src="http://usiedit.appspot.com/static/lib/modaldbox.js"></script>
	<script type="text/javascript" src="http://usiedit.appspot.com/static/lib/jquery.js"></script>
	<SCRIPT SRC="http://usiedit.appspot.com/static/lib/diff_match_patch_uncompressed.js"></SCRIPT>
	<SCRIPT SRC="http://usiedit.appspot.com/static/lib/mobwrite_core.js"></SCRIPT>
	<script src="http://usiedit.appspot.com/static/lib/simple_differ.js"></script>
	<script src="http://usiedit.appspot.com/static/lib/mobwrite_codemirror.js"></script>
	
	<script src="http://usiedit.appspot.com/static/compressed_form.js"></script>
	<script>
	  mobwrite.syncGateway = 'http://usiedit.appspot.com/scripts/q.py';
	</script>
	
	<script type="text/javascript">
		var filename;
		function getURL() {
			var strHref = window.location.href;
			var url = strHref.split("/");
			window.filename = url.pop();
		}
	</script>
	
	<script type="text/javascript" charset="utf-8">
	window.onresize = height_size;
	
	function height_size() {
		var table_height = window.innerHeight - 34;
		var editor_height = window.innerHeight - 140;
		var log_height = table_height - editor_height - 5;
		var main_table = document.getElementById("main_table");
		var editor = document.getElementById(filename);
		var log = document.getElementById("log");
		main_table.style.height = table_height + "px";
		editor.style.height = editor_height + "px";
		log.style.height = log_height + "px";
	}
	
		function editor_text() {
			var demo_editor_text = mobwrite.shareCodeMirror.create('test', {
		    height: '100%',
		    width: '100%',
		    parserfile: ['tokenizejavascript.js', 'parsejavascript.js'],
		    path: 'http://usiedit.appspot.com/static/lib/',
			stylesheet: 'http://usiedit.appspot.com/static/lib/jscolors.css',
		    tabMode: 'shift',
		    autoMatchParens: true
		  });
		}
	
		
	 </script>
	
	
	
	<script type="text/javascript">
	function assign_value() {
		var left = document.getElementById("left_sidebar");
		var right = document.getElementById("right_sidebar");
		left.value = "true";
		right.value = "true";
	}
	function sidebar(side) {
		var codearea = document.getElementById("codearea");
		var left = document.getElementById("left_sidebar");
		var right = document.getElementById("right_sidebar");
		var left_button = document.getElementById("left_button");
		var right_button = document.getElementById("right_button");
		
		if(side == 'left') {
			
			if(left.value == 'true') {
				
				left.style.display = "none";
				
				if(right.value == "true") {
					codearea.style.width = "90%";
				} else {
					codearea.style.width = "100%";
				}
				
				left.value = "false";
				left_button.value = "Show Project Browser";
				
			} else {
				
				left.style.display = "inline";
				
				if(right.value == "true") {
					codearea.style.width = "80%";
				} else {
					codearea.style.width = "90%";
				}
				
				left.value = "true";
				left_button.value = "Hide Project Browser";
				
			}
		} else {
			
			if(right.value == "true") {
				
				right.style.display = "none";
				
				if(left.value == "true") {
					codearea.style.width = "90%";
				} else {
					codearea.style.width = "100%";
				}
				
				right.value = "false";
				right_button.value = "Show Chat";
				
			} else {
				
				right.style.display = "inline";
				
				if(left.value == "true") {
					codearea.style.width = "80%";
				} else {
					codearea.style.width = "90%";
				}
				
				right.value = "true";
				right_button.value = "Hide Chat";	
			}
		}
	}

	// var img = document.getElementById("left_img");
	// sidebar.style.background = "-moz-linear-gradient(90% 200% 180deg, #b8c3c7, #71787a
	// img.src = "/img/open_active.png";
	// img.src = "/img/open_inactive.png";
	// var img = document.getElementById("right_img");
	// sidebar.style.background = "-moz-linear-gradient(90% 200% 180deg, #71787a, #b8c3c7)";
	// img.src = "/img/chat_active.png";
	// img.src = "/img/chat_inactive.png";
	</script>
	
  </head>

<!-- INSERIRE IL NOME DEL FILE -->
<!-- <body onload="var name = getURL(); "> -->
	<body onload="assign_value(); getURL(); height_size(); setTimeout('mobwrite.share(filename); editor_text();', 1000);" >
	
	<!-- body -->
		<div id="top_menu">
			<ul>
				<li><img src="/img/new.png" /><span onclick="sm('box',800,400)">New</span></li>
				<li><img src="/img/open.png" />Open</li>
				<li><img src="/img/save.png" />Save</li>
				<li class="nohover">|</li>
				<li><img src="/img/upload.png" />Upload</li>
				<li><img src="/img/download.png" />Download</li>
				<li class="nohover">|</li>
				<li><img src="/img/build.png" />Build</li>
				<li><img src="/img/run.png" />Run</li>
				<li class="nohover">|</li>
				<li><img src="/img/lock.png" />Lock</li>
				<li class="nohover"><input type="button" value="Hide Project Browser" id="left_button" onclick="sidebar('left')">
					<!-- <img id="left_img" src="/img/open_inactive.png" width="16" heght="16" alt="submit" /> --></input>
				</li>
				<li class="nohover"><input type="button" value="Hide Chat" id="right_button" onclick="sidebar('right')">
					<!-- <img id="right_img" src="/img/chat_inactive.png" width="16" heght="16" alt="submit" /> -->
				</input></li>
			</ul>
		</div>

        <div id="content">The main content will get bound here</div>


  </body>
</html>
